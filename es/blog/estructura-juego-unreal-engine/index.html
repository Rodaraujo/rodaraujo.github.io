<!doctype html>
<html lang="es">

    <head>
      
    <meta charset="utf-8">
    
    
      <title>
        Estructura de un Juego de Unreal Engine  | Rodrigo Araujo Soria 
      </title>
    

    
    <meta name="description" content="Unreal Engine es un software ampliamente utilizado en videojuegos, aplicaciones de realidad virtual, visualizaciones arquitectónicas y cinematografía. En este artículo se explorará la estructura de un proyecto detallando cómo se orgaizan archivos, cómo se configuran niveles y cómo se implementa la lógica de un juego." />
    
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/custom-style.css"  crossorigin="anonymous">
    
    <script src="https://kit.fontawesome.com/cdbfd2dd11.js" crossorigin="anonymous"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arvo:ital,wght@0,400;0,700;1,400;1,700&family=Lato:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                                                         new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
             j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
             'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
             })(window,document,'script','dataLayer','GTM-NC7KJLD');</script>
    
  </head>


  <body>
    


<div id="rod-nav" class="fixed-top bg-rod-light-blur shadow-sm"></div>
  <nav class="navbar navbar-expand-md fixed-top">
    <div class="navbar col-11 col-md-12 p-0 container">
    
    <a class="navbar-brand ml-2" href="/es">
    
      <div class="align-items-center row row-cols-2 gx-2 gy-0">
        <img src="/images/logo-dark.svg" class="mr-1" alt="Logo" style="width:34px;">
        <span class="rod-logo-title">Rodrigo Araujo Soria</span>
      </div>
    </a>

    <button class="navbar-toggler px-1" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end collapsibleNavbarLight" id="collapsibleNavbar">
      <ul class="navbar-nav ">
        
          <li class="nav-item text-center">
            <a class="nav-link" href="/es/about/">Acerca de</a>
          </li>
        
          <li class="nav-item text-center">
            <a class="nav-link" href="/es/projects/">Proyectos</a>
          </li>
        
          <li class="nav-item text-center">
            <a class="nav-link" href="/es/blog/">Blog</a>
          </li>
        
          <li class="nav-item text-center">
            <a class="nav-link" href="/es/resume/">Hoja de Vida</a>
          </li>
        
        
      </ul>
    </div>
  </div>
</nav>

    
<div class="container col col-md-8 mb-5 pb-5 rod-content">
	<div class="text-center mt-5 pt-2">
	
			  – <a class="small text-decoration-none" href="https://rodaraujo.com/es/blog/">Blog</a> –
	
</div>
<h1 class="text-center mb-0" id="rod-title">Estructura de un Juego de Unreal Engine</h1>
    <div class="col-8 col-md-5 mx-auto d-flex flex-row align-items-center justify-content-center divider py-4">
    <hr class="col-4 m-0">
    <span class="divider-decoration col-auto mx-2">
        <i class="fas fa-dot-circle"></i>
         <span style="font-size: 1.25rem; margin: 0px 3px 0px 3px">
            <i class="fas fa-chess-pawn"></i>
        </span>
        <i class="fas fa-dot-circle"></i>
    </span>
    <hr class="col-4 m-0">
</div>

    <p class="small text-center mx-0 ">11 de abril de 2023</p>
    <div class="d-flex mb-3 flex-wrap justify-content-center">
    
        <a href="https://rodaraujo.com/es/blog/categories/unreal-engine/" class="rod-btn py-0 px-2 mt-0 mx-2 small rod-rounded mb-3">Unreal Engine</a>
    
</div>

	<div>
		<p>En el mundo de los videojuegos, Unreal Engine se ha convertido en una herramienta fundamental para muchos desarrolladores, pero uno de los desafíos que se enfrenta al trabajar con esta plataforma es comprender su estructura. Una de las cosas que lo hace confuso es la existencia de varios objetos y abstracciones similares, que puede hacer difícil distinguirlos y entender cuál es el objeto más adecuado para una tarea específica. Por ello es beneficioso tener un buen conocimiento de cómo el motor arranca y se crea la estructura de un juego.</p>
<p>El arranque de un juego en Unreal Engine se divide en dos etapas: el arranque del motor y el arranque del juego en sí.</p>
<h2 id="arranque-del-motor">Arranque del Motor</h2>
<p>El primer paso se puede resumir en precargar los módulos básicos del motor, los módulos específicos del juego y los módulos de los plug-ins. En esta etapa se inician todos los sistemas base del motor y se prepara todo para entrar al bucle de juego, el <a href="https://ablancodev.com/algoritmos/game-loop/" target="_blank" title="Qué es el game loop">Game Loop</a>. Una vez los módulos y sistemas están cargados correctamente, se inicia una instancia del motor en un objeto global llamado GEngine (clase <a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/Engine/UEngine/" target="_blank" title="UEngine | Unreal Engine Documentation">UEngine</a>), junto con la creación del objeto Game Instance (clase <a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/Engine/UGameInstance/" target="_blank" title="UGameInstance | Unreal Engine Documentation">UGameInstance</a>), que guarda configuraciones e información global del juego, y el objeto que representa al jugador local (clase <a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/Engine/ULocalPlayer/" target="_blank" title="ULocalPlayer | Unreal Engine Documentation">ULocalPlayer</a>), el usuario.</p>
<h2 id="arranque-del-juego">Arranque del Juego</h2>
<p>En la siguiente etapa, el objeto GEngine es responsable de arrancar el juego de Unreal Engine. Su primera función es abrir el paquete que representa el mundo inicial del juego (clase <a href="https://docs.unrealengine.com/5.0/en-US/API/Runtime/Engine/Engine/UWorld/" target="_blank" title="UWorld | Unreal Engine Documentation">UWorld</a>), que contiene el nivel, objetos en el nivel llamados actores, componentes, reglas y controladores del juego. Esto crea e inicializa el primer nivel (clase <a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/Engine/ULevel/" target="_blank" title="ULevel | Unreal Engine Documentation">ULevel</a>), que contiene información relacionada con las reglas y los controladores que el jugador usa en el juego. Cada vez que se cambia de mundo, los objetos relacionados al mundo anterior se destruyen y se crean nuevos objetos relacionados al nuevo mundo.</p>
<p>Al abrir el mundo se crea un objeto llamado Game Mode (clase <a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/GameFramework/AGameModeBase/" target="_blank" title="AGameModeBase | Unreal Engine Documentation">AGameModeBase</a>) que corresponde al modo del juego. El Game Mode se encarga de guardar las reglas del juego y definir el estado del jugador, por ejemplo si gana o pierde. Es normal que un mismo mapa tenga diferentes modos de juego, por ejemplo un juego de carreras puede utilizar la misma pista para jugar una carrera de 3 vueltas o para tratar de hacer la vuelta más rápida. En estos casos se utiliza el mismo mapa pero 2 Game Modes distintos que dependen de estas reglas de juego, uno para la carrera de 3 vueltas y otro para la vuelta rápida. A su vez, el Game Mode crea un objeto que se utiliza para guardar el estado de la partida durante la sesión de juego, Game State (clase <a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/GameFramework/AGameStateBase/" target="_blank" title="AGameStateBase | Unreal Engine Documentation">AGameStateBase</a>). El Game State se utiliza para guardar información relacionada a la partida como marcadores entre jugadores, tiempo de juego o rachas de ganar o perder. El Game Mode utiliza la información guardada en el Game State para poder definir qué procede según las reglas del juego.</p>
<p>En esta etapa también se crea un objeto para manejar conexiones de red (clase <a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/GameFramework/AGameNetworkManager/" target="_blank" title="AGameNetworkManager | Unreal Engine Documentation">AGameNetworkManager</a>), pero esto solo es relevante para aplicaciones que manejan múltiples instancias conectadas del juego, como un juego en línea, por ejemplo.</p>
<h3 id="se-crea-el-jugador">Se crea el Jugador</h3>
<p>Con el Game State creado, se procede a crear el jugador. El Game Mode guarda también la información del controlador que el jugador utiliza y el personaje que el jugador controla en el juego. Primero se crea el objeto que representa el controlador del jugador Player Controller (clase <a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/GameFramework/APlayerController/" target="_blank" title="APlayerController | Unreal Engine Documentation">APlayerController</a>), que a su vez crea un objeto que guarda información del jugador durante la sesión de juego, el Player State (clase <a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/GameFramework/APlayerState/" target="_blank" title="APlayerState | Unreal Engine Documentation">APlayerState</a>). Luego, el motor conecta este controlador con el objeto que representa al jugador local (<a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/Engine/ULocalPlayer/" target="_blank" title="ULocalPlayer | Unreal Engine Documentation">ULocalPlayer</a>)</p>
<p>El Player Controller y Player State tienen una relación similar a la del Game Mode y el Game State. El Player Controller se utiliza para procesar los tipos de controles y las preferencias del jugador; ahí se define la interfaz entre el jugador y el personaje que controla. El Player State se utiliza para guardar información como las vidas del jugador, dinero acumulado, objetos en el inventario, poderes que tenga activos, etc.</p>
<h3 id="y-el-personaje">¿Y el Personaje?</h3>
<p>Normalmente, los juegos tienen un personaje que el jugador controla, aunque no siempre es el caso. A esta toma de control se le llama <strong>poseer</strong> en Unreal Engine, un controlador posee un personaje. Cuando el Player Controller se termina de crear, se define cómo proceder para que el jugador interactúe con el juego:</p>
<ol>
<li>El jugador debe poseer un personaje, el juego crea un personaje (clase base <a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/GameFramework/APawn/" target="_blank" title="APawn | Unreal Engine Documentation">APawn</a>) definido en el Game Mode y lo conecta al controlador.</li>
<li>El jugador inicia el juego como espectador, el juego crea un objeto espectador (clase base <a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/GameFramework/APawn/" target="_blank" title="APawn | Unreal Engine Documentation">APawn</a>) que permite al jugador navegar en el mundo pero no interactuar con él</li>
<li>No hacer nada, el proceso de creación y posesión de personajes se maneja después de iniciado el juego.</li>
</ol>
<p>Cuando todo está creado, se procede a correr la función de BeginPlay (iniciar juego) de todos los actores y componentes del juego, y se entra oficialmente al <a href="https://ablancodev.com/algoritmos/game-loop/" target="_blank" title="Qué es el game loop">Game Loop</a>.</p>
<p>Al inicio puede ser bastante información pero una vez entendido, el proceso de arranque revela qué objetos se crean primero y permite entender las responsabilidades que cada uno debe tener sobre las reglas del juego. Si bien es flexible, Unreal Engine no deja de ser un framework de software grande con varios sistemas y partes que funcionan tras bambalinas, por lo que entender cómo funciona puede ayudar a definir qué tipo de información manejar en qué sección y qué partes ignorar.</p>
<hr>
<h2 id="glosario">Glosario</h2>
<h5 id="gengine-a-hrefhttpsdocsunrealenginecom51en-usapiruntimeengineengineuengine-target_blank-titleuengine--unreal-engine-documentationuenginea">GEngine (<a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/Engine/UEngine/" target="_blank" title="UEngine | Unreal Engine Documentation">UEngine</a>)</h5>
<p>Representa el motor de juego en sí y se encarga de abrir y cerrar los mundos, además de controlar la funcionalidad del juego. Creado al iniciar el juego y destruido al cerrarlo.</p>
<h5 id="jugador-local-a-hrefhttpsdocsunrealenginecom427en-usapiruntimeengineengineulocalplayer-target_blank-titleulocalplayer--unreal-engine-documentationulocalplayera">Jugador Local (<a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/Engine/ULocalPlayer/" target="_blank" title="ULocalPlayer | Unreal Engine Documentation">ULocalPlayer</a>)</h5>
<p>Representa a los jugadores conectados directamente al motor, el juego inicia con al menos uno. Maneja las conexiones entre el usuario y el motor. Creado al iniciar el juego y destruido al cerrarlo.</p>
<h5 id="game-instance-a-hrefhttpsdocsunrealenginecom51en-usapiruntimeengineengineugameinstance-target_blank-titleugameinstance--unreal-engine-documentationugameinstancea">Game Instance (<a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/Engine/UGameInstance/" target="_blank" title="UGameInstance | Unreal Engine Documentation">UGameInstance</a>)</h5>
<p>Clase que representa la instancia del juego, guarda configuraciones e información global del juego. Se crea al abrir el juego y se destruye al cerrarlo. No se destruye cuando se cambia de mundo. Útil para guardar información del juego cada vez que se cambia de mundo.</p>
<h5 id="mundo-a-hrefhttpsdocsunrealenginecom50en-usapiruntimeengineengineuworld-target_blank-titleuworld--unreal-engine-documentationuworlda">Mundo (<a href="https://docs.unrealengine.com/5.0/en-US/API/Runtime/Engine/Engine/UWorld/" target="_blank" title="UWorld | Unreal Engine Documentation">UWorld</a>)</h5>
<p>Paquete que contiene información del mundo en curso, incluyendo nivel (<a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/Engine/ULevel/" target="_blank" title="ULevel | Unreal Engine Documentation">ULevel</a>), controladores, y modos de juego. Representa el mundo del juego.</p>
<h5 id="nivel-a-hrefhttpsdocsunrealenginecom427en-usapiruntimeengineengineulevel-target_blank-titleulevel--unreal-engine-documentationulevela">Nivel (<a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/Engine/ULevel/" target="_blank" title="ULevel | Unreal Engine Documentation">ULevel</a>)</h5>
<p>Contiene información del nivel o mapa y los objetos que hay en él, es el área de juego. Se crea al abrirlo directamente y se destruye al cerrarlo. Un mundo puede contener múltiples niveles a la vez.</p>
<h5 id="actor-a-hrefhttpsdocsunrealenginecom51en-usapiruntimeenginegameframeworkaactor-target_blank-titleaactor--unreal-engine-documentationaactora">Actor (<a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/GameFramework/AActor/" target="_blank" title="AActor | Unreal Engine Documentation">AActor</a>)</h5>
<p>Clase base de los objetos que pueden existir en un mundo. Pueden contener componentes para modificar su comportamiento. Existen mientras que el mundo que los contiene está en curso. Se crean y destruyen dependiendo de su comportamiento en el juego.</p>
<h5 id="game-mode-a-hrefhttpsdocsunrealenginecom51en-usapiruntimeenginegameframeworkagamemodebase-target_blank-titleagamemodebase--unreal-engine-documentationagamemodebasea">Game Mode (<a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/GameFramework/AGameModeBase/" target="_blank" title="AGameModeBase | Unreal Engine Documentation">AGameModeBase</a>)</h5>
<p>Guarda información sobre las reglas del juego, controlador del jugador y personaje del juego. Se usa para definir el estado del jugador durante el juego. Se crea al abrir un mundo y se destruye al cerrarlo.</p>
<h5 id="game-state-a-hrefhttpsdocsunrealenginecom427en-usapiruntimeenginegameframeworkagamestatebase-target_blank-titleagamestatebase--unreal-engine-documentationagamestatebasea">Game State (<a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/GameFramework/AGameStateBase/" target="_blank" title="AGameStateBase | Unreal Engine Documentation">AGameStateBase</a>)</h5>
<p>Guarda información sobre el estado global del juego. Se crea al abrir un mundo y se destruye al cerrarlo.</p>
<h5 id="player-controller-a-hrefhttpsdocsunrealenginecom51en-usapiruntimeenginegameframeworkaplayercontroller-target_blank-titleaplayercontroller--unreal-engine-documentationaplayercontrollera">Player Controller (<a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/GameFramework/APlayerController/" target="_blank" title="APlayerController | Unreal Engine Documentation">APlayerController</a>)</h5>
<p>Representa la interfaz entre el jugador y el juego, permite al jugador interactuar con el mundo. Puede poseer personajes en un mundo. Se crea al abrir un mundo y se destruye al cerrarlo.</p>
<h5 id="player-state-a-hrefhttpsdocsunrealenginecom427en-usapiruntimeenginegameframeworkaplayerstate-target_blank-titleaplayerstate--unreal-engine-documentationaplayerstatea">Player State (<a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/GameFramework/APlayerState/" target="_blank" title="APlayerState | Unreal Engine Documentation">APlayerState</a>)</h5>
<p>Guarda información sobre el estado del jugador como dinero, marcador, vidas, etc. Se crea al abrir un mundo y se destruye al cerrarlo.</p>
<h5 id="pawn-a-hrefhttpsdocsunrealenginecom51en-usapiruntimeenginegameframeworkapawn-target_blank-titleapawn--unreal-engine-documentationapawna">Pawn (<a href="https://docs.unrealengine.com/5.1/en-US/API/Runtime/Engine/GameFramework/APawn/" target="_blank" title="APawn | Unreal Engine Documentation">APawn</a>)</h5>
<p>Clase base de actores que pueden ser poseídos por un controlador. Existen mientras que el mundo que los contiene está en curso. Se crean y destruyen dependiendo de su comportamiento en el juego.</p>

	</div>
</div>


    <div class="container-fluid py-5 mt-5 text-center bg-white">
  <h2 class="mt-3">Si te interesa saber mas...</h2>
  <p class="mb-0">Puedes escribirme a <a href="mailto:me@rodaraujo.com">me@rodaraujo.com</a>.</p>

  <div class="col-8 col-md-5 mx-auto d-flex flex-row align-items-center justify-content-center divider py-4">
    <hr class="col-4 m-0">
    <span class="divider-decoration col-auto mx-2">
        <i class="fas fa-dot-circle"></i>
         <span style="font-size: 1.25rem; margin: 0px 3px 0px 3px">
            <i class="fas fa-chess-rook"></i>
        </span>
        <i class="fas fa-dot-circle"></i>
    </span>
    <hr class="col-4 m-0">
</div>
  
  <p>
    Rodrigo Araujo Soria, 2023
  </p>
</div>



<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>



<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NC7KJLD"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>
    var nav = document.getElementById('rod-nav')
    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
        if (window.scrollY > 0) {
            nav.style.opacity = 1;
        } else {
            nav.style.opacity = 0;
        }
    }
</script>

  </body>

</html>